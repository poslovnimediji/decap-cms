local_backend: true

backend:
  name: test-repo

site_url: https://example.com

publish_mode: editorial_workflow
media_folder: assets/uploads

collections: # A list of collections the CMS should be able to edit
  - name: 'posts' # Used in routes, ie.: /admin/collections/:slug/edit
    label: 'Posts' # Used in the UI
    label_singular: 'Post' # Used in the UI, ie: "New Post"
    description: >
      The description is a great place for tone setting, high level information, and editing
      guidelines that are specific to a collection.
    folder: '_posts'
    slug: '{{year}}-{{month}}-{{day}}-{{slug}}'
    summary: '{{title}} -- {{year}}/{{month}}/{{day}}'
    create: true # Allow users to create new documents in this collection
    editor:
      visualEditing: true
    view_filters:
      - label: Posts With Index
        field: title
        pattern: 'This is post #'
      - label: Posts Without Index
        field: title
        pattern: front matter post
      - label: Drafts
        field: draft
        pattern: true
    view_groups:
      - label: Year
        field: date
        pattern: \d{4}
      - label: Drafts
        field: draft
    fields: # The fields each document in this collection have
      - { label: 'Title', name: 'title', widget: 'string', tagname: 'h1' }
      - { label: 'Draft', name: 'draft', widget: 'boolean', default: false }
      - {
          label: 'Publish Date',
          name: 'date',
          widget: 'datetime',
          format: 'YYYY-MM-DD HH:mm',
          default: '{{now}}',
        }
      - label: 'Cover Image'
        name: 'image'
        widget: 'image'
        required: false
        tagname: ''

      - { label: 'Body', name: 'body', widget: 'markdown', hint: 'Main content goes here.' }

  - name: 'restaurants' # Used in routes, ie.: /admin/collections/:slug/edit
    label: 'Restaurants' # Used in the UI
    label_singular: 'Restaurant' # Used in the UI, ie: "New Post"
    description: >
      Restaurants is an entry type used for testing galleries, relations and other widgets.
      The tests must be written in such way that adding new fields does not affect previous flows.
    folder: '_restaurants'
    slug: '{{year}}-{{month}}-{{day}}-{{slug}}'
    summary: '{{title}} -- {{year}}/{{month}}/{{day}}'
    create: true # Allow users to create new documents in this collection
    editor:
      visualEditing: true
    fields: # The fields each document in this collection have
      - { label: 'Title', name: 'title', widget: 'string', tagname: 'h1' }
      - { label: 'Body', name: 'body', widget: 'markdown', hint: 'Main content goes here.' }
      - { name: 'gallery', widget: 'image', choose_url: true, media_library: {config: {multiple: true, max_files: 999}}}
      - { name: 'post', widget: relation, collection: posts, multiple: true, search_fields: [ "title" ], display_fields: [ "title" ], value_field: "{{slug}}", filters: [ {field: "draft", values: [false]} ] }
      - name: authors
        label: Authors
        label_singular: 'Author'
        widget: list
        fields:
          - { label: 'Name', name: 'name', widget: 'string', hint: 'First and Last' }
          - { label: 'Description', name: 'description', widget: 'markdown' }

  - name: 'faq' # Used in routes, ie.: /admin/collections/:slug/edit
    label: 'FAQ' # Used in the UI
    folder: '_faqs'
    create: true # Allow users to create new documents in this collection
    fields: # The fields each document in this collection have
      - { label: 'Question', name: 'title', widget: 'string', tagname: 'h1' }
      - { label: 'Answer', name: 'body', widget: 'markdown' }

  - name: 'settings'
    label: 'Settings'
    delete: false # Prevent users from deleting documents in this collection
    editor:
      preview: false
    files:
      - name: 'general'
        label: 'Site Settings'
        file: '_data/settings.json'
        description: 'General Site Settings'
        fields:
          - { label: 'Global title', name: 'site_title', widget: 'string' }
          - label: 'Post Settings'
            name: posts
            widget: 'object'
            fields:
              - {
                  label: 'Number of posts on frontpage',
                  name: front_limit,
                  widget: number,
                  min: 1,
                  max: 10,
                }
              - { label: 'Default Author', name: author, widget: string }
              - {
                  label: 'Default Thumbnail',
                  name: thumb,
                  widget: image,
                  class: 'thumb',
                  required: false,
                }

      - name: 'authors'
        label: 'Authors'
        file: '_data/authors.yml'
        description: 'Author descriptions'
        fields:
          - name: authors
            label: Authors
            label_singular: 'Author'
            widget: list
            fields:
              - { label: 'Name', name: 'name', widget: 'string', hint: 'First and Last' }
              - { label: 'Description', name: 'description', widget: 'markdown' }

  - name: 'kitchenSink' # all the things in one entry, for documentation and quick testing
    label: 'Kitchen Sink'
    folder: '_sink'
    create: true
    i18n: true
    slug: '{{slug}}'
    summary: "{{title}} {{fields.tags}}"
    index_file:
      pattern: _index
      fields: [
        *TITLE,
        *DESCRIPTION,
        *IMAGE_OBJECT,
        *PAGE_HERO,
        *EXPOSED,
        {name: exposedEventTop, label: exposed event top, widget: object, i18n: true, collapsed: true, summary: '{{fields.title}}', fields: *EVENT_TEXT_IMAGE_FIELDS},
        {name: sportList, label: sport list, widget: object, i18n: true, collapsed: true, summary: '{{fields.title}}', fields: [
          *TITLE,
          *DESCRIPTION,
          *BUTTON,
        ]},
        {name: museumList, label: museum list, widget: object, i18n: true, collapsed: true, summary: '{{fields.title}}', fields: [
          *TITLE,
          *DESCRIPTION,
          *BUTTON,
        ]},
        {name: childrenList, label: children list, widget: object, i18n: true, collapsed: true, summary: '{{fields.title}}', fields: [
          *TITLE,
          *DESCRIPTION,
          *BUTTON,
        ]},
        {name: exposedEventMiddle, label: exposed event middle, widget: object, i18n: true, collapsed: true, summary: '{{fields.title}}', fields: *EVENT_TEXT_IMAGE_FIELDS},
        {name: musicList, label: music list, widget: object, i18n: true, collapsed: true, summary: '{{fields.title}}', fields: [
          *TITLE,
          *DESCRIPTION,
          *BUTTON,
        ]},
        {name: theaterList, label: theater list, widget: object, i18n: true, collapsed: true, summary: '{{fields.title}}', fields: [
          *TITLE,
          *DESCRIPTION,
          *BUTTON,
        ]},
        {name: exposedEventBottom, label: exposed event bottom, widget: object, i18n: true, collapsed: true, summary: '{{fields.title}}', fields: *EVENT_TEXT_IMAGE_FIELDS},
        *RELATED_ON_DETAIL,
        *HAS_NEWSLETTER,
        *THEME_COLOR,
        *BUILD,
        *CASCADE,
      ]
    fields: [
      *TITLE,
      *LINK_TITLE,
      *WEIGHT,
      *SLUG,
      *DRAFT,
      *IS_EXPOSED,
      *DISTRICTS_RELATION,
      *SHORT_DESCRIPTION,
      *DESCRIPTION,
      *PUBLISH_DATE,
      {name: venue, widget: string, i18n: true},
      {name: date, widget: datetime, i18n: duplicate, utc_picker: true},
      {name: endDate, widget: datetime, i18n: duplicate, utc_picker: true, required: false},
      {name: price, widget: select, i18n: duplicate, required: false, options: [
        {label: free, value: free},
        {label: paid, value: paid},
      ]},
      {name: tags, widget: relation, options_length: 100, collection: tags, i18n: duplicate, required: false, value_field: '{{slug}}', search_fields: [title], display_fields: [title], multiple: true, filters: [{field: section, values: [dogodki]}]},
      *IMAGE_OBJECT,
      *USEFUL_INFO,
      *BODY,
      *MODULES,
      *KEYWORDS,
      *HAS_NEWSLETTER,
    ]

  - name: projekti
    label: Projekti
    label_singular: Projekt
    folder: content/aktualno/projekti
    preview_path: aktualno/projekti/{{slug}}
    create: true
    i18n: true
    slug: '{{slug}}'
    summary: "{{title}} {{fields.tags}}"
    index_file:
      pattern: _index
      fields: [
        *TITLE,
        *DESCRIPTION,
        *WEIGHT,
        *IMAGE_OBJECT,
        *PAGE_HERO,
        *EXPOSED,
        *ICONS_WITH_NUMBERS,
        *BODY_OPTIONAL,
        *MODULES,
        *LIST_LAYOUT_SELECT,
        *ALL_ITEMS_TITLE,
        {name: enableMapView, label: Is map view enabled, widget: boolean, i18n: duplicate, required: false, condition: {field: layout, value: list-filters}},
        *MAP,
        *HAS_NEWSLETTER,
        *HEADER_SEARCH,
        *BUILD,
        *CASCADE,
      ]
    fields: [
      *TITLE,
      *LINK_TITLE,
      *WEIGHT,
      *SLUG,
      *DRAFT,
      *IS_EXPOSED,
      *PUBLISH_DATE,
      {name: tags, widget: relation, options_length: 100, collection: tags, i18n: duplicate, required: false, value_field: '{{slug}}', search_fields: [title], display_fields: [title], multiple: true, max: 1, filters: [{field: section, values: [projekti]}]},
      *DISTRICTS_RELATION,
      *AREAS_RELATION,
      *FUND_TYPES_RELATION,
      {name: yearOfCompletion, label: year of completion, widget: number, i18n: duplicate, required: false},
      {name: value, widget: number, i18n: duplicate, required: false, value_type: float},
      {name: yearOfBeginning, label: Start year, widget: number, i18n: duplicate, required: false},
      *IMAGE_OBJECT,
      *USEFUL_INFO,
      *BODY,
      *MODULES,
      *HAS_NEWSLETTER,
    ]

  - name: razpisi
    label: Razpisi
    label_singular: Razpis
    folder: content/aktualno/razpisi
    preview_path: aktualno/razpisi/{{slug}}
    create: true
    format: yaml-frontmatter
    extension: sl.md
    index_file:
      pattern: _index
      fields: [
        *TITLE,
        *DESCRIPTION,
        *IMAGE_OBJECT,
        *PAGE_HERO,
        *ICONS_WITH_NUMBERS,
        *QUOTE,
        *ALL_ITEMS_TITLE,
        *LIST_LAYOUT_SELECT,
        *TAXONOMIES,
        *FAQ,
        *HAS_NEWSLETTER,
        *HEADER_SEARCH,
        *BUILD,
        *CASCADE,
      ]
    fields: [
      *TITLE,
      *LINK_TITLE,
      *WEIGHT,
      *DRAFT,
      *SLUG,
      *PUBLISH_DATE,
      *DISTRICTS_RELATION,
      {name: deadline, widget: datetime, i18n: duplicate, required: false, time_format: false},
      {name: tags, widget: relation, options_length: 100, collection: tags, i18n: duplicate, required: false, value_field: '{{slug}}', search_fields: [title], display_fields: [title], multiple: true, max: 1, filters: [{field: section, values: [projekti]}, {field: color, values: [primary-light-green, grey-400]}]},
      *AREAS_RELATION,
      *CATEGORIES_RELATION,
      *IS_EXCLUDED_FROM_RELATED,
      *BODY,
      *USEFUL_INFO,
      *MODULES,
    ]

  - name: razpisi-archive
    label: Razpisi (Arhiv)
    label_singular: Razpis (Arhiv)
    folder: content-archive/aktualno/razpisi
    preview_path: aktualno/razpisi/{{slug}}
    create: true
    format: yaml-frontmatter
    extension: sl.md
    index_file:
      pattern: _index
      fields: [
        *TITLE,
        *DESCRIPTION,
        *IMAGE_OBJECT,
        *PAGE_HERO,
        *ICONS_WITH_NUMBERS,
        *QUOTE,
        *ALL_ITEMS_TITLE,
        *LIST_LAYOUT_SELECT,
        *TAXONOMIES,
        *FAQ,
        *HAS_NEWSLETTER,
        *HEADER_SEARCH,
        *BUILD,
        *CASCADE,
      ]
    fields: [
      *TITLE,
      *LINK_TITLE,
      *WEIGHT,
      *DRAFT,
      *SLUG,
      *PUBLISH_DATE,
      *DISTRICTS_RELATION,
      {name: deadline, widget: datetime, i18n: duplicate, required: false, time_format: false},
      {name: tags, widget: relation, options_length: 100, collection: tags, i18n: duplicate, required: false, value_field: '{{slug}}', search_fields: [title], display_fields: [title], multiple: true, max: 1, filters: [{field: section, values: [projekti]}, {field: color, values: [primary-light-green, grey-400]}]},
      *AREAS_RELATION,
      *CATEGORIES_RELATION,
      *IS_EXCLUDED_FROM_RELATED,
      *BODY,
      *USEFUL_INFO,
      *MODULES,
    ]

  - name: vloge
    label: Vloge
    label_singular: Vloga
    folder: content/aktualno/vloge
    preview_path: aktualno/vloge/{{slug}}
    create: true
    i18n: true
    slug: '{{slug}}'
    index_file:
      pattern: _index
      fields: [
        *TITLE,
        *DESCRIPTION,
        *IMAGE_OBJECT,
        *PAGE_HERO,
        *ALL_ITEMS_TITLE,
        *LIST_LAYOUT_SELECT,
        *TAXONOMIES,
        *FAQ,
        *HAS_NEWSLETTER,
        *HEADER_SEARCH,
        *BUILD,
        *CASCADE,
      ]
    fields: [
      *TITLE,
      *LINK_TITLE,
      *WEIGHT,
      *DRAFT,
      *SLUG,
      *DESCRIPTION,
      *USEFUL_INFO,
      *AREAS_RELATION,
      *CONTENT_AREAS_RELATION,
      *IS_EXCLUDED_FROM_RELATED,
      {name: application_link, label: application link, widget: string, i18n: true, pattern: ['^https?:\/\/.+$', 'Enter a valid external URL'], hint: 'Enter a valid external URL. Example: https://test.com/current/news.'},
      *BODY,
      *MODULES,
    ]

  - name: predpisi
    label: Predpisi
    label_singular: Predpis
    folder: content/aktualno/predpisi
    preview_path: aktualno/predpisi/{{slug}}
    create: true
    format: yaml-frontmatter
    extension: sl.md
    index_file:
      pattern: _index
      fields: [
        *TITLE,
        *DESCRIPTION,
        *IMAGE_OBJECT,
        *PAGE_HERO,
        *ALL_ITEMS_TITLE,
        *LIST_LAYOUT_SELECT,
        *TAXONOMIES,
        *HAS_NEWSLETTER,
        *HEADER_SEARCH,
        *BUILD,
        *CASCADE,
      ]
    fields: [
      *TITLE,
      *LINK_TITLE,
      *WEIGHT,
      *DRAFT,
      *SLUG,
      *USEFUL_INFO,
      {name: publishDate, label: published on, widget: datetime, i18n: duplicate, time_format: false, required: false},
      {name: acceptance_date, label: Datum sprejetja, widget: datetime, i18n: duplicate, time_format: false},
      {name: effective_until_date, label: effective until date, widget: datetime, i18n: duplicate, time_format: false, required: false},
      {name: institution, label: Institucija, required: false, widget: relation, options_length: 100, i18n: duplicate, collection: taxonomies, file: institution, value_field: 'items.*.id', search_fields: ['items.*.title'], display_fields: ['items.*.title'], multiple: true},
      {name: self_government, label: Lokalna samouprava, required: false, widget: relation, options_length: 100, i18n: duplicate, collection: taxonomies, file: self_government, value_field: 'items.*.id', search_fields: ['items.*.title'], display_fields: ['items.*.title'], multiple: true},
      {name: planning, label: Planiranje in urejanje prostora, required: false, widget: relation, options_length: 100, i18n: duplicate, collection: taxonomies, file: planning, value_field: 'items.*.id', search_fields: ['items.*.title'], display_fields: ['items.*.title'], multiple: true},
      {name: communal_service, label: Komunala, gospodarske javne službe in promet, required: false, widget: relation, options_length: 100, i18n: duplicate, collection: taxonomies, file: communal_service, value_field: 'items.*.id', search_fields: ['items.*.title'], display_fields: ['items.*.title'], multiple: true},
      {name: real_estate, label: Poslovni prostori in stanovanjske zadeve, najemi, required: false, widget: relation, options_length: 100, i18n: duplicate, collection: taxonomies, file: real_estate, value_field: 'items.*.id', search_fields: ['items.*.title'], display_fields: ['items.*.title'], multiple: true},
      {name: public_finance, label: Javne finance, required: false, widget: relation, options_length: 100, i18n: duplicate, collection: taxonomies, file: public_finance, value_field: 'items.*.id', search_fields: ['items.*.title'], display_fields: ['items.*.title'], multiple: true},
      {name: social_service, label: Družbene dejavnosti, required: false, widget: relation, options_length: 100, i18n: duplicate, collection: taxonomies, file: social_service, value_field: 'items.*.id', search_fields: ['items.*.title'], display_fields: ['items.*.title'], multiple: true},
      {name: development, label: 'Razvoj, gostinstvo, turizem, malo gospodarstvo, kmetijstvo', required: false, widget: relation, options_length: 100, i18n: duplicate, collection: taxonomies, file: development, value_field: 'items.*.id', search_fields: ['items.*.title'], display_fields: ['items.*.title'], multiple: true},
      {name: manager, label: Upravljalec, required: false, widget: relation, options_length: 100, i18n: duplicate, collection: taxonomies, file: manager, value_field: 'items.*.id', search_fields: ['items.*.title'], display_fields: ['items.*.title'], multiple: true},
      {name: session, widget: object, i18n: true, fields: *BUTTON_FIELDS},
      {name: published_in, label: published in, widget: object, i18n: true, fields: *BUTTON_FIELDS},
      {name: publication_index, label: publication index, widget: string, i18n: duplicate, required: false},
      {name: tags, widget: relation, options_length: 100, collection: tags, i18n: duplicate, required: false, value_field: '{{slug}}', search_fields: [title], display_fields: [title], multiple: true, max: 1, filters: [{field: section, values: [predpisi]}]},
      {name: publication_type, label: publication type, widget: string, i18n: true, required: false},
      {name: content_location, label: content location, widget: string, i18n: true, required: false},
      {name: plain_text, label: plain text, widget: object, i18n: true, fields: [
        {name: name, widget: string, i18n: true, required: false},
        {name: src, widget: file, i18n: true, media_library: { allow_multiple: false }, required: false},
      ]},
      *IS_EXCLUDED_FROM_RELATED,
      *BODY_OPTIONAL,
    ]

  - name: predpisi-archive
    label: Predpisi (Arhiv)
    label_singular: Predpis (Arhiv)
    folder: content-archive/aktualno/predpisi
    preview_path: aktualno/predpisi/{{slug}}
    create: true
    format: yaml-frontmatter
    extension: sl.md
    index_file:
      pattern: _index
      fields: [
        *TITLE,
        *DESCRIPTION,
        *IMAGE_OBJECT,
        *PAGE_HERO,
        *ALL_ITEMS_TITLE,
        *LIST_LAYOUT_SELECT,
        *TAXONOMIES,
        *HAS_NEWSLETTER,
        *HEADER_SEARCH,
        *BUILD,
        *CASCADE,
      ]
    fields: [
      *TITLE,
      *LINK_TITLE,
      *WEIGHT,
      *DRAFT,
      *SLUG,
      *USEFUL_INFO,
      {name: publishDate, label: published on, widget: datetime, i18n: duplicate, time_format: false, required: false},
      {name: acceptance_date, label: Datum sprejetja, widget: datetime, i18n: duplicate, time_format: false},
      {name: effective_until_date, label: effective until date, widget: datetime, i18n: duplicate, time_format: false, required: false},
      {name: institution, label: Institucija, required: false, widget: relation, options_length: 100, i18n: duplicate, collection: taxonomies, file: institution, value_field: 'items.*.id', search_fields: ['items.*.title'], display_fields: ['items.*.title'], multiple: true},
      {name: self_government, label: Lokalna samouprava, required: false, widget: relation, options_length: 100, i18n: duplicate, collection: taxonomies, file: self_government, value_field: 'items.*.id', search_fields: ['items.*.title'], display_fields: ['items.*.title'], multiple: true},
      {name: planning, label: Planiranje in urejanje prostora, required: false, widget: relation, options_length: 100, i18n: duplicate, collection: taxonomies, file: planning, value_field: 'items.*.id', search_fields: ['items.*.title'], display_fields: ['items.*.title'], multiple: true},
      {name: communal_service, label: Komunala, gospodarske javne službe in promet, required: false, widget: relation, options_length: 100, i18n: duplicate, collection: taxonomies, file: communal_service, value_field: 'items.*.id', search_fields: ['items.*.title'], display_fields: ['items.*.title'], multiple: true},
      {name: real_estate, label: Poslovni prostori in stanovanjske zadeve, najemi, required: false, widget: relation, options_length: 100, i18n: duplicate, collection: taxonomies, file: real_estate, value_field: 'items.*.id', search_fields: ['items.*.title'], display_fields: ['items.*.title'], multiple: true},
      {name: public_finance, label: Javne finance, required: false, widget: relation, options_length: 100, i18n: duplicate, collection: taxonomies, file: public_finance, value_field: 'items.*.id', search_fields: ['items.*.title'], display_fields: ['items.*.title'], multiple: true},
      {name: social_service, label: Družbene dejavnosti, required: false, widget: relation, options_length: 100, i18n: duplicate, collection: taxonomies, file: social_service, value_field: 'items.*.id', search_fields: ['items.*.title'], display_fields: ['items.*.title'], multiple: true},
      {name: development, label: 'Razvoj, gostinstvo, turizem, malo gospodarstvo, kmetijstvo', required: false, widget: relation, options_length: 100, i18n: duplicate, collection: taxonomies, file: development, value_field: 'items.*.id', search_fields: ['items.*.title'], display_fields: ['items.*.title'], multiple: true},
      {name: manager, label: Upravljalec, required: false, widget: relation, options_length: 100, i18n: duplicate, collection: taxonomies, file: manager, value_field: 'items.*.id', search_fields: ['items.*.title'], display_fields: ['items.*.title'], multiple: true},
      {name: session, widget: object, i18n: true, fields: *BUTTON_FIELDS},
      {name: published_in, label: published in, widget: object, i18n: true, fields: *BUTTON_FIELDS},
      {name: publication_index, label: publication index, widget: string, i18n: duplicate, required: false},
      {name: tags, widget: relation, options_length: 100, collection: tags, i18n: duplicate, required: false, value_field: '{{slug}}', search_fields: [title], display_fields: [title], multiple: true, max: 1, filters: [{field: section, values: [predpisi]}]},
      {name: publication_type, label: publication type, widget: string, i18n: true, required: false},
      {name: content_location, label: content location, widget: string, i18n: true, required: false},
      {name: plain_text, label: plain text, widget: object, i18n: true, fields: [
        {name: name, widget: string, i18n: true, required: false},
        {name: src, widget: file, i18n: true, media_library: { allow_multiple: false }, required: false},
      ]},
      *IS_EXCLUDED_FROM_RELATED,
      *BODY_OPTIONAL,
    ]

  - name: publikacije
    label: Publikacije
    label_singular: publication
    folder: content/aktualno/publikacije
    preview_path: aktualno/publikacije/{{slug}}
    create: true
    i18n: true
    slug: '{{slug}}'
    index_file:
      pattern: _index
      fields: [
        *TITLE,
        *DESCRIPTION,
        *IMAGE_OBJECT,
        *PAGE_HERO,
        *ALL_ITEMS_TITLE,
        *LIST_LAYOUT_SELECT,
        *TAXONOMIES,
        *HAS_NEWSLETTER,
        *HEADER_SEARCH,
        *BUILD,
        *CASCADE,
      ]
    fields: [
      *TITLE,
      *LINK_TITLE,
      *WEIGHT,
      *DRAFT,
      *SLUG,
      {name: issueNumber, label: issue number, widget: number, i18n: duplicate},
      *CATEGORIES_RELATION,
      *IS_EXPOSED,
      *DATE,
      *THEMES_RELATION,
      *DESCRIPTION,
      *IMAGE_OBJECT,
      *PAGE_HERO,
      *USEFUL_INFO,
      *BODY_OPTIONAL,
      *MODULES,
      *RELATED_LINKS,
      *KEYWORDS,
      *HIDE_FROM_RELATED,
      *THEME_COLOR,
    ]

  - name: aktualno
    label: Aktualno
    label_singular: Stran aktualno
    folder: content/aktualno
    format: yaml-frontmatter
    create: true
    i18n: true
    filter: {field: visibleInCMS, value: true}
    index_file:
      pattern: _index
      fields: *LIST_PAGE_FIELDS
    nested:
      depth: 10
      summary: "{{title}}"
      subfolders: false
    meta: {path: {widget: string, label: 'Path', index_file: '_index'}}
    fields: *SINGLE_FIELDS

  - name: gospodarstvo
    label: Gospodarstvo
    label_singular: Stran gospodarstvo
    folder: content/gospodarstvo
    format: yaml-frontmatter
    create: true
    i18n: true
    index_file:
      pattern: _index
      fields: *LIST_PAGE_FIELDS
    nested:
      depth: 10
      summary: "{{title}}"
      subfolders: false
    meta: {path: {widget: string, label: 'Path', index_file: '_index'}}
    fields: *SINGLE_FIELDS

  - name: upravljanje
    label: Upravljanje
    label_singular: Stran upravljanje
    folder: content/upravljanje
    format: yaml-frontmatter
    create: true
    i18n: true
    index_file:
      pattern: _index
      fields: *LIST_PAGE_FIELDS
    nested:
      depth: 10
      summary: "{{title}}"
      subfolders: false
    meta: {path: {widget: string, label: 'Path', index_file: '_index'}}
    fields: *SINGLE_FIELDS

  - name: za-obcane
    label: Za občane
    label_singular: Stran za občane
    folder: content/za-obcane
    format: yaml-frontmatter
    preview_path: za-obcane/{{slug}}
    create: true
    i18n: true
    index_file:
      pattern: _index
      fields: *LIST_PAGE_FIELDS
    nested:
      depth: 10
      summary: "{{title}}"
      subfolders: false
    meta: {path: {widget: string, label: 'Path', index_file: '_index'}}
    fields: *SINGLE_FIELDS

  - name: general-pages
    label: Splošne strani
    label_singular: Splošna stran
    folder: content
    create: true
    i18n: true
    slug: '{{slug}}'
    filter: {field: visibleInCMS, value: true}
    fields: *SINGLE_FIELDS

  - name: unique-pages
    label: Posebne strani
    format: yaml-frontmatter
    files: [
      {label: Prva stran SI, name: home-si, file: content/_index.sl.md, fields: *HOME_FIELDS},
      {label: Prva stran EN, name: home-en, file: content/_index.en.md, fields: *HOME_FIELDS},
      {label: Spored dogodkov SI, name: events-schedule-si, file: content/aktualno/dogodki/spored/_index.sl.md, fields: *LIST_PAGE_FIELDS},
      {label: Spored dogodkov EN, name: events-schedule-en, file: content/aktualno/dogodki/spored/_index.en.md, fields: *LIST_PAGE_FIELDS},
      {label: Kontakt SI, name: contact-si, file: content/kontakt-in-uradne-ure.sl.md, fields: *CONTACT_FIELDS},
      {label: Kontakt EN, name: contact-en, file: content/kontakt-in-uradne-ure.en.md, fields: *CONTACT_FIELDS},
      {label: Naročilo na sestanek SI, name: appointment-si, file: content/narocite-se-na-sestanek.sl.md, fields: *MEETING_FORM_FIELDS},
      {label: Naročilo na sestanek EN, name: appointment-en, file: content/narocite-se-na-sestanek.en.md, fields: *MEETING_FORM_FIELDS},
      {label: Prijava na obveščanje SI, name: newsletter-si, file: content/prijava-na-obvescanje.sl.md, fields: *NEWSLETTER_FORM_FIELDS},
      {label: Prijava na obveščanje EN, name: newsletter-en, file: content/prijava-na-obvescanje.en.md, fields: *NEWSLETTER_FORM_FIELDS},
      {label: Izračun komunalnega prispevka SI, name: fee-calculator-si, file: content/za-obcane/prostorsko-nacrtovanje-in-gradnja/zelim-graditi/informativni-izracun-komunalnega-prispevka.sl.md, fields: *FEE_CALCULATOR_FIELDS},
      {label: Izračun komunalnega prispevka EN, name: fee-calculator-en, file: content/za-obcane/prostorsko-nacrtovanje-in-gradnja/zelim-graditi/informativni-izracun-komunalnega-prispevka.en.md, fields: *FEE_CALCULATOR_FIELDS},
    ]

  - name: tags
    label: Oznake
    label_singular: Oznaka
    folder: content/tags
    create: true
    i18n: true
    path: '{{slug}}/_index'
    sortable_fields: ['title', 'section']
    summary: "{{title}} ({{section}})"
    view_groups: [
      {label: section, field: section},
    ]
    fields: [
      *TITLE,
      *DRAFT,
      {name: linkTitle, label: short title, widget: string, i18n: true, required: false},
      *COLOR,
      {name: section, label: section, widget: select, i18n: duplicate, options: ['novice', 'dogodki', 'projekti', 'predpisi', 'other']},
    ]

  - name: categories
    label: Kategorije
    label_singular: Kategorija
    folder: content/categories
    create: true
    i18n: true
    path: '{{slug}}/_index'
    fields: [
      *TITLE,
    ]

  - name: districts
    label: Krajevne skupnosti in mestne četrti
    label_singular: Krajevna skupnost
    folder: content/upravljanje/krajevne-skupnosti-in-mestne-cetrti
    i18n: true
    hide: true
    fields: [
      *TITLE,
    ]

  - name: departments
    label: Oddelki
    label_singular: Oddelek
    folder: content/upravljanje/mestna-uprava/oddelki
    create: true
    i18n: true
    slug: '{{slug}}'
    index_file:
      pattern: _index
      fields: *LIST_PAGE_FIELDS
    fields: *SINGLE_FIELDS

  - name: taxonomies
    label: Taksonomije
    i18n:
      structure: single_file
      locales: [sl, en]
    files: [
      {name: target_groups, label: Ciljne skupine, file: data/target_groups.json, i18n: true, fields: *TAXO_FILE_FIELDS},
      {name: fund_types, label: Sredstva, file: data/fund_types.json, i18n: true, fields: *TAXO_FILE_FIELDS},
      {name: themes, label: Teme, file: data/themes.json, i18n: true, fields: *TAXO_FILE_FIELDS},
      {name: areas, label: Področja, file: data/areas.json, i18n: true, fields: *TAXO_FILE_FIELDS},
      {name: content_areas, label: Vsebinska področja, file: data/content_areas.json, i18n: true, fields: *TAXO_FILE_FIELDS},
      {name: communal_service, label: 'Komunala, gospodarske javne službe in promet', file: data/communal_service.json, i18n: true, fields: *TAXO_FILE_FIELDS},
      {name: social_service, label: Družbene dejavnosti, file: data/social_service.json, i18n: true, fields: *TAXO_FILE_FIELDS},
      {name: development, label: 'Razvoj, gostinstvo, turizem, malo gospodarstvo, kmetijstvo', file: data/development.json, i18n: true, fields: *TAXO_FILE_FIELDS},
      {name: manager, label: Upravljalec, file: data/manager.json, i18n: true, fields: *TAXO_FILE_FIELDS},
      {name: institution, label: Institucija, file: data/institution.json, i18n: true, fields: *TAXO_FILE_FIELDS},
      {name: planning, label: Planiranje in urejanje prostora, file: data/planning.json, i18n: true, fields: *TAXO_FILE_FIELDS},
      {name: public_finance, label: Javne finance, file: data/public_finance.json, i18n: true, fields: *TAXO_FILE_FIELDS},
      {name: real_estate, label: 'Poslovni prostori in stanovanjske zadeve, najemi', file: data/real_estate.json, i18n: true, fields: *TAXO_FILE_FIELDS},
      {name: self_government, label: Lokalna samouprava, file: data/self_government.json, i18n: true, fields: *TAXO_FILE_FIELDS},
    ]

  - name: components
    label: Komponente
    i18n:
      structure: single_file
      locales: [sl, en]
    files: [
      {name: notification, label: Notification, file: data/notification.json, i18n: true, fields: [
        *TITLE,
        *DESCRIPTION,
        *BUTTON,
        {name: showOnHome, label: show on home, widget: boolean, i18n: true, required: false},
        {name: showSiteWide, label: show on the rest of the site, widget: boolean, i18n: true, required: false},
      ]},
      {name: footer, label: Footer, file: data/footer.json, i18n: true, fields: [
        {name: logo, widget: image, i18n: duplicate, required: false, hint: 'if empty, site logo will be used'},
        {name: title, widget: string, i18n: true, required: false, hint: 'if empty, site title will be used'},
        {name: address, widget: string, i18n: true, required: false, hint: 'if empty, site address will be used'},
        {name: openingHours, label: opening hours, widget: object, i18n: true, fields: [
          *TITLE,
          {name: items, widget: list, label_singular: item, i18n: true, fields: [
            {name: day, widget: string, i18n: true},
            {name: hours, widget: string, i18n: true},
          ]},
        ]},
        {name: contact, widget: object, i18n: true, fields: [
          *TITLE,
          {name: email, widget: string, i18n: true, required: false, hint: 'if empty, site email will be used'},
          {name: phone, widget: string, i18n: true, required: false, hint: 'if empty, site phone will be used'},
        ]},
        {name: socialLinks, label: Social links, widget: list, label_singular: link, i18n: true, fields: [
          {name: name, widget: string, i18n: true},
          {name: icon, widget: string, i18n: true},
          {name: href, widget: string, i18n: true},
        ]},
        {name: titleLinks, label: Title links, widget: list, label_singular: link, i18n: true, fields: [
          {name: title, widget: string, i18n: true},
          {name: text, widget: string, i18n: true},
          {name: href, widget: string, i18n: true},
        ]},
        {name: usefulLinks, label: Useful links, widget: object, i18n: true, fields: [
          *TITLE,
          {name: items, widget: list, i18n: true, label_singular: item, fields: *BUTTON_FIELDS},
        ]},
        {name: illustration, widget: object, i18n: true, fields: *IMAGE_OBJECT_FIELDS},
        {name: copyright, widget: string, i18n: true},
        {name: bottomLinks, label: Bottom links, widget: list, label_singular: link, i18n: true, fields: *BUTTON_FIELDS},
      ]},
      {name: newsletter, label: Newsletter, file: data/newsletter.json, i18n: true, fields: [
        *TITLE,
        *DESCRIPTION,
        *BUTTON,
        *IMAGE_OBJECT,
      ]},
      {name: "404", label: 404 Page, file: data/page404.json, i18n: true, fields: [
        *PAGE_HERO,
        *RELATED_LINKS,
      ]},
    ]

  - name: general
    label: Splošno
    files:
      - label: Site settings
        name: site-settings
        file: hugo.toml
        fields: [
          {name: title, widget: string},
          {name: params, widget: object, fields: [
            {name: description, widget: text},
            {name: image, widget: image},
            {name: logo, widget: image},
            {name: address, widget: string},
            {name: phone, widget: string},
            {name: email, widget: string},
          ]},
        ]
      - label: Translations SI
        name: translations-si
        file: i18n/sl.toml
        fields: *TRANSLATION_FIELDS
      - label: Translations EN
        name: translations-en
        file: i18n/en.toml
        fields: *TRANSLATION_FIELDS
      - label: Appointment email settings
        name: appointment-email-settings
        file: data/appointmentEmail.json
        fields: [
          {name: sender, widget: string},
          {name: recipient, widget: string},
          {name: subject, widget: string},
        ]
